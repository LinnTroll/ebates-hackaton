var ebates=ebates||{};window.eb_raf=requestAnimationFrame||webkitRequestAnimationFrame||msRequestAnimationFrame||function(e){return setTimeout(e,0)},ebates.UI=ebates.UI||{},ebates.UI.isInView=function(e,t){var i,n,o="object"==typeof t,r=o?{fraction:t.fraction||.5,threshold:{x:t.threshold&&t.threshold.x||0,y:t.threshold&&t.threshold.y||0},checkVisibility:void 0===t.checkVisibility||t.checkVisibility}:{fraction:t||.5,threshold:{x:0,y:0},checkVisibility:!0};return!(r.checkVisibility&&document.hidden||!e)&&(i=e.getBoundingClientRect(),n={x:{right:Math.max(Math.min(-(window.innerWidth-i.right)-r.threshold.x,i.width),0),left:Math.max(Math.min(-i.left-r.threshold.x,i.width),0),visible:{get amount(){return i.width-n.x.left-n.x.right},get fraction(){return n.x.visible.amount/(n.x.visible.amount+n.x.left+n.x.right)}}},y:{top:Math.max(Math.min(-i.top-r.threshold.y,i.height),0),bottom:Math.max(Math.min(-(window.innerHeight-i.bottom)-r.threshold.y,i.height),0),visible:{get amount(){return i.height-n.y.top-n.y.bottom},get fraction(){return n.y.visible.amount/(n.y.visible.amount+n.y.top+n.y.bottom)}}}},e.latestInViewMetrics=n,n.y.visible.fraction*n.x.visible.fraction>=r.fraction)},ebates.regex={email:/^([-\w+~]+(?:\.[-\w+~]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i,IE:/(msie|trident|edge[ \/])/i},ebates.cookie={set:function(e,t,i){var n=new Date;n.setTime(n.getTime()+864e5*i),document.cookie=e+"="+t+";expires="+n.toUTCString()+";path=/;"},get:function(e){var t=document.cookie.split(e+"=");return 2===t.length&&t.pop().split(";").shift()}},ebates.param={get:function(e,t){var i="&"+e+"=",n=t&&-1!==t.indexOf("?")&&"&"+t.split("?")[1].split("#")[0]||!t&&window.location.search.replace("?","&")||"";return-1!==n.indexOf(i)&&decodeURIComponent(n.split(i)[1].split("&")[0])},add:function(e,t,i){var n=(i||window.location.href).split("#"),o=n[0],r=n.length>1&&"#"+n[1]||"",a=ebates.param.get(e,o);return a!==t&&(!1!==a&&(o=ebates.param.remove(e,o)),o+=(-1===o.indexOf("?")&&"?"||"&")+e+"="+encodeURIComponent(t)+r,!i&&history.pushState({},"",o)),o},remove:function(e,t){var i=t||window.location.href,n=new RegExp("([?&])"+e+"=[^&#]*");return i=i.replace(n,"$1").replace(/([?&])&/,"$1").replace(/[?&]($|#.*)/,"$1"),!t&&history.pushState({},"",i),i}},ebates.js={registry:[],require:function(){var e={},t={dataType:"script",cache:!0,crossDomain:!0},i=[].slice.call(arguments),n=i.length&&"function"==typeof i[i.length-1]&&i.pop(),o=this.registry;return $.each(i,function(i,n){!o[n]&&(e[n]=o[n]=$.ajax(n,t))||200!==o[n].status&&!e[n]&&(e[n]=o[n])}),$.when.apply($,$.map(e,function(e){return e})).then(n),this}},ebates.css={registry:{},require:function(){var e,t,i,n={},o="function"==typeof arguments[arguments.length-1],r=null,a=this.registry,s=function(e){var t='<link rel="stylesheet" href="'+e+'">',i=document.createElement("div");eb_raf(function(){setTimeout(function(){document.body.appendChild(i),i.outerHTML=t},0)})};if(o)e=[].slice.call(arguments),t=e.pop(),$.each(e,function(e,t){var i={url:t,cache:!0,crossDomain:!0,complete:s.bind(null,t),timeout:1e3};a[t]?4===a[t].readyState||n[t]||(n[t]=a[t]):(a[t]=$.ajax(i),n[t]=a[t])}),$.when.apply($,$.map(n,function(e){return e})).then(function(){r=setTimeout(t,0)}).always(function(){null===r&&setTimeout(t,0)});else for(i=0;i<arguments.length;i++)a[arguments[i]]||(s(arguments[i]),a[arguments[i]]={status:200});return this}},ebates.cache=function(e){this.c="object"==typeof e&&e||{p:0,cache:{},tss:{},keys:[],sz:e&&Math.abs(e)||10}},ebates.cache.prototype.get=function(e){return this.c.cache[e]},ebates.cache.prototype.set=function(e,t){var i=this.c.p,n=t||i;return void 0!==this.c.cache[n]?(this.c.cache[n]=e,this.c.tss[n]=Date.now()):(void 0!==this.c.keys[i]&&void 0!==this.c.cache[this.c.keys[i]]&&(delete this.c.cache[this.c.keys[i]],delete this.c.tss[this.c.keys[i]]),this.c.keys[i]=n,this.c.cache[n]=e,this.c.tss[n]=Date.now(),this.c.p=(this.c.p+1)%this.c.sz),this},ebates.cache.prototype.getTs=function(e){return this.c.tss[e]},ebates.cache.prototype.serialize=function(e){return this.c.ts=Date.now(),e?JSON.stringify(this.c):this.c},ebates.getBrowser=function(e){var t,i,n;return t=e||navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident|FxiOS|CriOS(?=\/))\/?\s*(\d+)/i)||[],/trident/i.test(n[1])?(i=/\brv[ :]+(\d+)/g.exec(t)||[],{name:"IE",version:i[1]||""}):"Chrome"===n[1]&&null!=(i=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:i[1].replace("OPR","Opera"),version:i[2]}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(i=t.match(/version\/(\d+)/i))&&n.splice(1,1,i[1]),"FxiOS"===n[0]&&(n[0]="Firefox"),"CriOS"===n[0]&&(n[0]="Chrome"),{name:n[0],version:n[1]})},ebates.isLocalstorageAvailable=function(){var e;if(void 0!==ebates.localStorage)return ebates.localStorage;e="localstorge"+Date.now();try{return localStorage.setItem(e,"test"),localStorage.removeItem(e),ebates.localStorage=!0,!0}catch(e){return ebates.localStorage=!1,!1}},$(function(){var e=null,t=Date.now&&Date.now()||(new Date).getTime();$(window).on("load resize scroll",function(){var i=Date.now&&Date.now()||(new Date).getTime();i>50+t&&(t=i,$(window).trigger("scroll-throttle"),clearTimeout(e),e=setTimeout(function(){$(window).trigger("scroll-throttle")},50))})}),function(){var e=navigator.userAgent;ebates.button={browser:/edge\//i.test(e)&&"edge"||!ebates.regex.IE.test(e)&&(/firefox\//i.test(e)&&"firefox"||/AppleWebKit\//i.test(e)&&(!!window.chrome&&"chrome"||(Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||function(e){return"[object SafariRemoteNotification]"===e.toString()}(!window.safari||safari.pushNotification))&&"safari"||"unknown"))||"unknown"}}();
//# sourceMappingURL=ebates-main-8d6bbf562c.js.map
